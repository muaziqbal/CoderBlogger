<script>
  (function() {
    function ready(fn) {
      if (document.readyState != 'loading'){
        fn();
      } else {
        document.addEventListener('DOMContentLoaded', fn);
      }
    }

    function getSponsors(callback) {
      var request = new XMLHttpRequest();
      request.open('GET', '/sponsors', true);

      request.onload = function() {
        if (request.status >= 200 && request.status < 400) {
          callback(request.responseText)
        } else {
          // server returned an error
        }
      };

      request.onerror = function() {
        // connection error
      };

      request.send();
    }

    getSponsors(function(html) {
      ready(function() {
        var el = document.getElementById('js-sponsors')
        el.innerHTML = html
      })
    })
  })()
</script>
